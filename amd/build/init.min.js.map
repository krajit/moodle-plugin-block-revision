{"version":3,"file":"init.min.js","sources":["../src/init.js"],"sourcesContent":["define(['jquery', 'core/ajax', 'core/notification'], function($, Ajax, Notification) {\n    return {\n        init: function() {\n\n            function saveData() {\n                window.console.log(\"hello\");\n                const selectedRadio = $('input[name=\"learningLevel\"]:checked');\n                const selectedLevel = selectedRadio.length ? selectedRadio.next('label').data('value') : '';\n                const count = $('#revisionCount').val();\n                const date = $('#nextReview').val();\n                const pageurl = window.location.pathname + window.location.search;\n\n                if (!selectedLevel && !count && !date) {\n                    // Nothing to save\n                    return;\n                }\n\n                Ajax.call([{\n                    methodname: 'block_revision_save_entry',\n                    args: {\n                        learninglevel: selectedLevel,\n                        revisioncount: parseInt(count),\n                        nextreview: date,\n                        pageurl: pageurl\n                    },\n                    done: function(response) {\n                        window.console.log('Saved:', response.status);\n                    },\n                    fail: Notification.exception\n                }]);\n            }\n\n            // Attach listeners for autosave\n            $('#revisionCount, #nextReview').on('input change', saveData);\n            $('input[name=\"learningLevel\"]').on('change', saveData);\n            \n\n            // Optional: initial save if you want to auto-save prepopulated data\n            // saveData();\n        }\n    };\n});\n"],"names":["define","$","Ajax","Notification","init","saveData","window","console","log","selectedRadio","selectedLevel","length","next","data","count","val","date","pageurl","location","pathname","search","call","methodname","args","learninglevel","revisioncount","parseInt","nextreview","done","response","status","fail","exception","on"],"mappings":"AAAAA,6BAAO,CAAC,SAAU,YAAa,sBAAsB,SAASC,EAAGC,KAAMC,oBAC5D,CACHC,KAAM,oBAEOC,WACLC,OAAOC,QAAQC,IAAI,eACbC,cAAgBR,EAAE,uCAClBS,cAAgBD,cAAcE,OAASF,cAAcG,KAAK,SAASC,KAAK,SAAW,GACnFC,MAAQb,EAAE,kBAAkBc,MAC5BC,KAAOf,EAAE,eAAec,MACxBE,QAAUX,OAAOY,SAASC,SAAWb,OAAOY,SAASE,QAEtDV,eAAkBI,OAAUE,OAKjCd,KAAKmB,KAAK,CAAC,CACPC,WAAY,4BACZC,KAAM,CACFC,cAAed,cACfe,cAAeC,SAASZ,OACxBa,WAAYX,KACZC,QAASA,SAEbW,KAAM,SAASC,UACXvB,OAAOC,QAAQC,IAAI,SAAUqB,SAASC,SAE1CC,KAAM5B,aAAa6B,aAK3B/B,EAAE,+BAA+BgC,GAAG,eAAgB5B,UACpDJ,EAAE,+BAA+BgC,GAAG,SAAU5B"}